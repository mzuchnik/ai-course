<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      th:replace="~{layouts/base :: layout(~{::content})}">
<head>
    <title th:text="${pageTitle}">Contact</title>
</head>
<body>

<div th:fragment="content">
    <!-- Hero Section -->
    <section class="bg-gradient-to-br from-primary-600 to-primary-400 py-20">
        <div class="container mx-auto px-4">
            <div class="max-w-3xl mx-auto text-center text-white">
                <h1 class="text-4xl md:text-5xl font-bold mb-4">Skontaktuj się z nami</h1>
                <p class="text-xl text-white/90">Masz pytania? Chętnie odpowiemy.</p>
            </div>
        </div>
    </section>

    <!-- Contact Form Section -->
    <section class="py-16">
        <div class="container mx-auto px-4">
            <div class="max-w-2xl mx-auto">

                <!-- Success Alert -->
                <div th:if="${successMessage}"
                     th:replace="~{fragments/components/alerts :: success(${successMessage}, true)}">
                </div>

                <!-- Error Alert -->
                <div th:if="${errorMessage}"
                     th:replace="~{fragments/components/alerts :: error(${errorMessage}, true)}">
                </div>

                <!-- Contact Form Card -->
                <div th:replace="~{fragments/components/cards :: card(
                    'Wyślij wiadomość',
                    'Wypełnij formularz, a my skontaktujemy się z Tobą tak szybko, jak to możliwe.',
                    ~{::contact-form-content},
                    ~{::contact-form-actions},
                    '')}">

                    <!-- Form Content -->
                    <div th:fragment="contact-form-content">
                        <form id="contactForm" th:action="@{/api/contact}" method="POST" class="space-y-6">

                            <!-- First Name -->
                            <div th:replace="~{fragments/components/inputs :: input(
                                'firstName',
                                'firstName',
                                'Imię',
                                'text',
                                null,
                                null,
                                true,
                                false,
                                ${errors != null ? errors['firstName'] : null},
                                'person')}">
                            </div>

                            <!-- Last Name -->
                            <div th:replace="~{fragments/components/inputs :: input(
                                'lastName',
                                'lastName',
                                'Nazwisko',
                                'text',
                                null,
                                null,
                                true,
                                false,
                                ${errors != null ? errors['lastName'] : null},
                                'person')}">
                            </div>

                            <!-- Email -->
                            <div th:replace="~{fragments/components/inputs :: email(
                                'email',
                                'email',
                                'Email',
                                null,
                                true,
                                ${errors != null ? errors['email'] : null})}">
                            </div>

                            <!-- Phone -->
                            <div th:replace="~{fragments/components/inputs :: phone(
                                'phone',
                                'phone',
                                'Telefon',
                                null,
                                false,
                                ${errors != null ? errors['phone'] : null})}">
                            </div>

                            <!-- Message -->
                            <div class="relative w-full min-w-[200px]">
                                <textarea id="message" name="message" rows="6" required
                                          placeholder=" "
                                          class="peer w-full h-full bg-transparent font-sans font-normal outline outline-0 focus:outline-0 transition-all placeholder-shown:border placeholder-shown:border-blue-gray-200 border focus:border-2 border-blue-gray-200 focus:border-primary-500 text-sm px-3 py-2.5 rounded-[7px] text-blue-gray-700 resize-none"></textarea>
                                <label for="message" class="flex w-full h-full select-none pointer-events-none absolute left-3 font-normal leading-tight peer-placeholder-shown:text-blue-gray-500 transition-all -top-1.5 peer-placeholder-shown:text-sm text-[11px] peer-focus:text-[11px] text-blue-gray-400 peer-focus:text-primary-500">
                                    Wiadomość
                                </label>
                            </div>

                        </form>
                    </div>

                    <!-- Form Actions -->
                    <div th:fragment="contact-form-actions">
                        <button type="submit" form="contactForm"
                                th:replace="~{fragments/components/buttons :: button(
                                    'Wyślij wiadomość',
                                    'submit',
                                    'filled',
                                    'primary',
                                    'md',
                                    true,
                                    false,
                                    'send',
                                    'right',
                                    '',
                                    null)}">
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </section>

</div>

</body>
</html>
