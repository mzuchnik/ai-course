<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      th:replace="~{layouts/base :: layout(~{::content})}">
<head>
    <title th:text="${pageTitle}">Contact</title>
</head>
<body>

<div th:fragment="content">
    <!-- Hero Section -->
    <section class="bg-gradient-to-br from-primary-600 to-primary-400 py-20">
        <div class="container mx-auto px-4">
            <div class="max-w-3xl mx-auto text-center text-white">
                <h1 class="text-4xl md:text-5xl font-bold mb-4">Skontaktuj się z nami</h1>
                <p class="text-xl text-white/90">Masz pytania? Chętnie odpowiemy.</p>
            </div>
        </div>
    </section>

    <!-- Contact Form Section -->
    <section class="py-16">
        <div class="container mx-auto px-4">
            <div class="max-w-2xl mx-auto">

                <!-- Success Alert -->
                <div th:if="${successMessage}"
                     th:replace="~{fragments/components/alerts :: success(${successMessage}, true)}">
                </div>

                <!-- Error Alert -->
                <div th:if="${errorMessage}"
                     th:replace="~{fragments/components/alerts :: error(${errorMessage}, true)}">
                </div>

                <!-- Contact Form Card -->
                <div th:replace="~{fragments/components/cards :: card(
                    'Wyślij wiadomość',
                    'Wypełnij formularz, a my skontaktujemy się z Tobą tak szybko, jak to możliwe.',
                    ~{::contact-form-content},
                    ~{::contact-form-actions},
                    '')}">

                    <!-- Form Content -->
                    <div th:fragment="contact-form-content">
                        <form id="contactForm" th:action="@{/api/contact}" method="POST" class="space-y-6">

                            <!-- First Name -->
                            <div th:replace="~{fragments/components/inputs :: input(
                                'firstName',
                                'firstName',
                                'Imię',
                                'text',
                                null,
                                null,
                                true,
                                false,
                                ${errors != null ? errors['firstName'] : null},
                                'person')}">
                            </div>

                            <!-- Last Name -->
                            <div th:replace="~{fragments/components/inputs :: input(
                                'lastName',
                                'lastName',
                                'Nazwisko',
                                'text',
                                null,
                                null,
                                true,
                                false,
                                ${errors != null ? errors['lastName'] : null},
                                'person')}">
                            </div>

                            <!-- Email -->
                            <div th:replace="~{fragments/components/inputs :: email(
                                'email',
                                'email',
                                'Email',
                                null,
                                true,
                                ${errors != null ? errors['email'] : null})}">
                            </div>

                            <!-- Phone -->
                            <div th:replace="~{fragments/components/inputs :: phone(
                                'phone',
                                'phone',
                                'Telefon',
                                null,
                                false,
                                ${errors != null ? errors['phone'] : null})}">
                            </div>

                            <!-- Message -->
                            <div class="relative w-full">
                                <textarea id="message" name="message" rows="6" required
                                          placeholder=" "
                                          class="peer w-full bg-white border border-gray-300 rounded-lg text-sm transition-all focus:outline-none focus:ring-2 focus:ring-offset-0 focus:ring-primary-500 focus:border-primary-500 text-gray-900 px-3 py-2.5 resize-none"></textarea>
                                <label for="message" class="absolute cursor-text bg-white px-1 left-2.5 top-2.5 text-slate-400 text-sm transition-all transform origin-left pointer-events-none peer-focus:-top-2 peer-focus:left-2.5 peer-focus:text-xs peer-focus:text-primary-500 peer-focus:scale-90 peer-[:not(:placeholder-shown)]:-top-2 peer-[:not(:placeholder-shown)]:left-2.5 peer-[:not(:placeholder-shown)]:text-xs peer-[:not(:placeholder-shown)]:scale-90">
                                    <span>Wiadomość</span>
                                    <span class="text-red-600">*</span>
                                </label>
                            </div>

                        </form>
                    </div>

                    <!-- Form Actions -->
                    <div th:fragment="contact-form-actions">
                        <button type="submit" form="contactForm"
                                th:replace="~{fragments/components/buttons :: button(
                                    'Wyślij wiadomość',
                                    'submit',
                                    'filled',
                                    'primary',
                                    'md',
                                    true,
                                    false,
                                    'send',
                                    'right',
                                    '',
                                    null)}">
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </section>

</div>

</body>
</html>
